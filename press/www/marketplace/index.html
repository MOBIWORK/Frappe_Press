{% extends "templates/marketplace/base.html" %} {%- block body -%}
<div class="section-body">
	<div class="header-body py-20 text-center px-4">
		<h1 class="text-3xl font-bold text-gray-900">
			Hệ sinh thái ứng dụng cho doanh nghiệp
		</h1>
		<p class="mx-auto mt-4 text-gray-600">
			Các sản phẩm của MBW Fapper cloud đẩy nhanh hành trình từ ý tưởng đến hiện
			thực của bạn.
		</p>
	</div>
	<div class="container px-4 mx-auto my-5">
		<div class="flex flex-wrap sm:flex-nowrap pb-36">
			<div class="w-80 block mt-5">
				<h2 class="text-xl text-gray-800 font-semibold">Phân loại</h2>
				<div class="flex flex-col mt-4">
					<div
						class="relative -left-2 mr-8 text-lg transition hover:bg-gray-50 text-gray-700 rounded-lg"
					>
						<button
							class="category-button w-full text-left rounded py-1 pl-2"
							value=""
						>
							Tất cả
						</button>
					</div>
					{%- for category in categories -%}
					<div
						class="relative -left-2 mr-8 text-lg transition hover:bg-gray-50 text-gray-700 rounded-lg"
					>
						<button
							class="category-button w-full text-left rounded py-1 pl-2"
							value="{{ category }}"
						>
							{{ category }}
						</button>
					</div>
					{%- endfor -%}
				</div>
			</div>

			<div class="w-full pb-36 mt-5">
				<div>
					<div class="flex flex-col sm:flex-row sm:justify-between">
						<h2 class="text-xl font-bold text-gray-800 mb-4">Ứng dụng</h2>
						<div class="flex flex-row">
							<!-- <button
								style="max-height: 32px;"
								id="remove-category"
								class="hidden bg-gray-100 border-gray-700 text-sm text-gray-700 items-center px-2 mx-2 rounded-lg transition hover:shadow"
							>
								<span
									id="remove-category-name"
									class="block items-center mr-1"
								></span>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="18"
									height="18"
									viewBox="0 0 24 24"
									fill="none"
									stroke="currentColor"
									stroke-width="2"
									stroke-linecap="round"
									stroke-linejoin="round"
									class="feather feather-x"
								>
									<line x1="18" y1="6" x2="6" y2="18"></line>
									<line x1="6" y1="6" x2="18" y2="18"></line>
								</svg>
							</button> -->
							<input
								type="text"
								class="placeholder-gray-500 rounded-md border-0 bg-gray-100 py-1 px-2 text-base leading-5 focus:bg-gray-200 focus:shadow-none focus:ring-0 block w-full sm:mt-0 sm:w-60 h-8"
								id="app-search-input"
								placeholder="Search for apps"
								value="{{ text_search }}"
							/>
						</div>
					</div>
					<div
						id="all-apps-list"
						class="grid grid-cols-1 gap-8 mt-8 md:grid-cols-2 lg:grid-cols-3 sm:grid-cols-2"
					>
						{%- for app in apps -%}
						<a
							href="/{{ app.route }}"
							id="{{app.name}}"
							data-title="{{ app.title }}"
							data-description="{{ app.description }}"
							data-categories="{{ app.categories }}"
							class="app-card flex flex-col justify-between p-6 box-shadow-custom cursor-pointer transition hover:shadow-lg focus:outline-none focus:border-gray-500 focus:shadow-outline"
						>
							<div>
								<div class="flex items-center">
									<img
										alt="{{app.title}} Logo"
										src="{{ app.image }}"
										class="w-10 h-10 border border-gray-200 rounded-lg"
									/>
									<h3 class="ml-3 font-semibold">{{ app.title }}</h3>
								</div>
								<p class="mt-4 text-base text-gray-500 line-clamp">
									{{ app.description }}
								</p>
							</div>
							<span
								class="flex flex-row items-center text-sm mt-3 text-gray-600"
							>
								<!-- <i class="w-4 h-4 mr-2" data-feather="download"></i> -->
								<img src="/assets/press/images/icon_download.svg" />
								<span class="ml-1"
									>{{ app.total_installs | number_k_format }} {{ 'install' if
									app.total_installs == 1 else 'installs' }}</span
								>
							</span>
						</a>
						{%- endfor -%}
					</div>
					{%- if pagination.total_page -%}
					<div class="mt-8">
						<ul class="page flex flex-wrap list-none justify-end overflow-x-auto">
							{%- if pagination.page_curren == 1 -%}
							<li class="mr-2">
								<a class="opacity p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_skipprevious.svg"
								/></a>
							</li>
							<li class="mr-2">
								<a class="opacity p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_arrowleft.svg"
								/></a>
							</li>
							{%- else -%}
							<li class="mr-2">
								<a href="/marketplace/?category={{ category }}&text_search={{ text_search }}" class="p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_skipprevious.svg"
								/></a>
							</li>
							<li class="mr-2">
								<a href="/marketplace/?category={{ category }}&text_search={{ text_search }}&page={{ pagination.page_curren - 1 }}&page_size={{ pagination.page_size }}" class="p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_arrowleft.svg"
								/></a>
							</li>
							{%- endif -%}

							{%- if pagination.total_page > 5 -%}
								{%- for x in pagination.pagination_list -%}
								{%- if x == "..." -%}
								<li class="mr-2">
									<a class="{{ "active" if x == pagination.page_curren }} p-2 bg-gray-300 text-gray-700"
										>{{ x }}</a
									>
								</li>
								{%- else -%}
								<li class="mr-2">
									<a href="/marketplace/?category={{ category }}&text_search={{ text_search }}&page={{ x }}&page_size={{ pagination.page_size }}" class="{{ "active" if x == pagination.page_curren }} p-2 bg-gray-300 text-gray-700"
										>{{ x }}</a
									>
								</li>
								{%- endif -%}
								{%- endfor -%}
							{%- else -%}
							{%- for i in range(1,pagination.total_page + 1) -%}
							<li class="mr-2">
								<a href="/marketplace/?category={{ category }}&text_search={{ text_search }}&page={{ i }}&page_size={{ pagination.page_size }}" class="{{ "active" if i == pagination.page_curren }} p-2 bg-gray-300 text-gray-700"
									>{{ i }}</a
								>
							</li>
							{%- endfor -%}
							{%- endif -%}

							{%- if pagination.page_curren == pagination.total_page -%}
							<li class="mr-2">
								<a class="opacity p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_arrowright.svg"
								/></a>
							</li>
							<li class="mr-2">
								<a class="opacity p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_skipnext.svg"
								/></a>
							</li>
							{%- else -%}
							<li class="mr-2">
								<a href="/marketplace/?category={{ category }}&text_search={{ text_search }}&page={{ pagination.page_curren + 1 }}&page_size={{ pagination.page_size }}" class="p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_arrowright.svg"
								/></a>
							</li>
							<li class="mr-2">
								<a href="/marketplace/?category={{ category }}&text_search={{ text_search }}&page={{ pagination.total_page }}&page_size={{ pagination.page_size }}" class="p-2 bg-gray-300 text-gray-700"
									><img src="/assets/press/images/icon_skipnext.svg"
								/></a>
							</li>
							{%- endif -%}
							<!-- Thêm các liên kết khác tương ứng với số trang -->
						</ul>
					</div>
					{%- else -%}
					<div id="no-results-message">
						<p class="text-gray-700">Không tìm thấy ứng dụng nào.</p>
					</div>
					{%- endif -%}

				</div>
			</div>
		</div>
	</div>
</div>
<span class="bg-gray-200"></span>

{{ include_script('marketplace.bundle.js') }} {%- endblock -%}
